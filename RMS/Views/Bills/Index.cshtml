@model IEnumerable<RMS.Models.BillViewModel>
@{
    ViewData["Title"] = "Lịch sử hóa đơn";
}
<h2 class="text-2xl font-bold mb-6 text-primary">Lịch sử hóa đơn</h2>
<div class="overflow-x-auto rounded shadow">
    <table class="min-w-full divide-y divide-gray-200 bg-white">
        <thead class="bg-gray-50">
            <tr>
                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Mã HĐ</th>
                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Mã đơn hàng</th>
                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tổng tiền hàng</th>
                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">VAT (%)</th>
                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tiền VAT</th>
                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tổng sau VAT</th>
                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Giảm giá</th>
                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Thành tiền phải trả</th>
                <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Hành động</th>
            </tr>
        </thead>
        <tbody class="divide-y divide-gray-100">
        @foreach (var bill in Model)
        {
            <tr class="hover:bg-gray-100 transition">
                <td class="px-4 py-2 font-mono">@bill.Id</td>
                <td class="px-4 py-2">@bill.OrderId</td>
                <td class="px-4 py-2">@string.Format("{0:N0} ₫", bill.Subtotal)</td>
                <td class="px-4 py-2">@bill.VatPercent %</td>
                <td class="px-4 py-2">@string.Format("{0:N0} ₫", bill.VatAmount)</td>
                <td class="px-4 py-2">@string.Format("{0:N0} ₫", bill.TotalAmount)</td>
                <td class="px-4 py-2">@string.Format("{0:N0} ₫", bill.DiscountAmount)</td>
                <td class="px-4 py-2">@string.Format("{0:N0} ₫", bill.TotalDue)</td>
                <td class="px-4 py-2">
                    <a class="text-blue-600 hover:underline font-semibold" href="@Url.Action("Details", new { id = bill.Id })">
                        <i class="fas fa-eye"></i> Chi tiết
                    </a>
                </td>
            </tr>
        }
        </tbody>
    </table>
</div>